{% extends "base.html" %}
{% load static %}
{% block title %}Edit Article{% endblock title %}

{{ form.media }}

{% block content %}

<div class="container-fluid text-center target-link">
    <h1>Edit Article</h1>
</div>

<div class="container-fluid target-link">
    <div class="row">
        <div class="col">
            {% if user.is_authenticated %}
                <p>User is authenticated.</p>
                <p>{{ request.path_info }}</p>
                    {% for article in articles %}
                        {% if request.user.id == article.user_id %}
                <p>And it is the users article. Allowed to edit.  User id: {{ request.user.id }} Article user id: {{ article.user_id }}. Article id {{ article.id }}.</p>
                        {% else %}
                            <p>You are only allowed to edit your own articles. User id: {{ request.user.id }} Article user id: {{ article.user_id }}. Article id {{ article.id }}.</p>
                        {% endif %}
                    {% endfor %}
            {% else %}
                {% comment %}
                    Should never show up since the mixin is in place
                {% endcomment %}
                <p class="not-logged-in">
                    <h2>
                        <i class="fas fa-circle-exclamation me-2 text-warning" aria-hidden="true"></i>
                         Since you are not logged in, you are not authorized to see this page.
                    </h2>
                </p>
            {% endif %}
        </div>
    </div>

</div>

{% endblock content %}
